---
id: 641
title: 'Git commit amend: Way to quickly fix last commit mistakes'
date: 2020-03-25T06:52:13+00:00
author: Gaurav
excerpt: A quick post on how git amend command can help you fix and change your last commit if you want to add something more or have made a mistake.
layout: post
permalink: /2020/03/25/git-commit-amend-way-to-quickly-fix-last-commit-mistakes/
jabber_published:
  - "1585119140"
timeline_notification:
  - "1585119142"
email_notification:
  - "1585119142"
publicize_twitter_user:
  - automationhacks
publicize_linkedin_url:
  - null
image: /assets/images/wp-content/uploads/2020/03/jelleke-vanooteghem-kabtmcdcabk-unsplash.jpg
categories:
  - Git
---
A quick post on how git amend command can help you fix and change your last commit if you want to add something more or have made a mistake.

![](/assets/images/wp-content/uploads/2020/03/jelleke-vanooteghem-kabtmcdcabk-unsplash.jpg)

Photo by&nbsp;[Jelleke Vanooteghem](https://unsplash.com/@ilumire?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)&nbsp;on&nbsp;[Unsplash](https://unsplash.com/s/photos/oops?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

## A mistake

First, a little bit of context, Let's say you are starting a new Kotlin project with Gradle. The first usual thing to do is to check in a `.gitignore` file with directives to ignore certain IDE generated files.

I wanted to ignore any temporary files generated by Gradle which are typically situated in `.gradle` folder among the IDE files generated by IntelliJ in `.idea` folder.

So I added below in the `.gitignore` file:

<pre class="wp-block-preformatted">gradle/
.idea/</pre>

And then went ahead with adding and committing my changes

<pre class="wp-block-preformatted">git add .
git commit -m "Ignore IDE files and gradle generated files"</pre>

## Oops

However, when I checked my current files, I could still see a lot of the Gradle temporary files.

Turns out, Instead of adding `.gradle` folder, I added `gradle` (Notice the missing dot) ü§¶üèª‚Äç‚ôÇÔ∏è

## The fix

Well, A quick fix would be to just change the `.gitignore` file and update to:

<pre class="wp-block-preformatted">.gradle/
.idea/</pre>

And then add and commit with a new message right?

Well, That is how I used to do things **before!**

I wouldn't ideally**&nbsp;like** to not show this trivial mistake in my git history when I can fix it. And why to necessarily clutter the git history with these small fixes.

Turns out Git has this awesome command that we can use.

In this particular case, I want to change the files that were checked in the last commit and maybe add some new files as well.

We can just stage any new files or change files that we need and execute below

<pre class="wp-block-preformatted">git commit --amend --no-edit</pre>

This would&nbsp;**modify&nbsp;**your last commit files and retain the message

If you want to even change the message, Just add `-m <msg>` to this command

<pre class="wp-block-preformatted">git <span class="hljs-keyword">commit</span> <span class="hljs-comment">--amend -m "an updated commit message"</span></pre>

## Conclusion:

Use **git amend** if you have made a mistake and fix your last commit. Note, This changes your last commit and it would not be recoverable.

Overall this is a very nice command to have in your git toolbox and allows you to have a better Git history.

The wonderful folks at Atlassian have written an even detailed blog on this. [Check it out.](https://www.atlassian.com/git/tutorials/rewriting-history)